{% extends "base.html" %}

{% block title %}Quiz: {{ lesson.title }} ‚Äî Trollingo{% endblock %}

{% block content %}
<section class="card">
  <div class="row" style="justify-content:space-between;">
    <div>
      <span class="kicker">üìù Quiz</span>
      <h2 class="card__title" style="margin-top:10px;">{{ lesson.title }}</h2>
      <p class="card__subtitle" style="margin-top:8px;">
        Kurs: <strong>{{ lesson.course.name }}</strong> ¬∑ Poziom: <strong>{{ lesson.level }}</strong>
      </p>
    </div>
    <a class="btn btn--ghost" href="{% url 'learning:lesson_detail' lesson.pk %}">‚¨Ö Wr√≥ƒá do lekcji</a>
  </div>

  {% if score is not None %}
    <div style="height:14px;"></div>
    <div class="alert alert--info">
      <strong>Tw√≥j wynik:</strong> {{ score }} / {{ total }}
    </div>
  {% endif %}

  <div style="height:14px;"></div>

  <form method="post" class="form quiz-form">
    {% csrf_token %}

    <div class="stack">
      {% for question in questions %}
        <div class="question">
          <p class="question__title">{{ forloop.counter }}. {{ question.text }}</p>

          <div class="stack stack--sm">
            {% for answer in question.answers.all %}
              <label class="quiz-option">
                <input
                  class="quiz-option__input"
                  type="radio"
                  name="question_{{ question.id }}"
                  value="{{ answer.id }}"
                >
                <span class="quiz-option__box">
                  <span class="quiz-option__dot"></span>
                  <span class="quiz-option__text">{{ answer.text }}</span>
                </span>
              </label>
            {% endfor %}
          </div>
        </div>
      {% endfor %}
    </div>

    <div class="row" style="margin-top:10px;">
      <button class="btn btn--primary" type="submit">üöÄ Wy≈õlij odpowiedzi</button>
      <a class="btn btn--ghost" href="{% url 'learning:lesson_detail' lesson.pk %}">Anuluj</a>
    </div>
  </form>
</section>
{% endblock %}
